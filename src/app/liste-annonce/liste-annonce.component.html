
<div class="multi-search-bar-container">
    <span class="spaced-search-bar p-input-icon-left">
        <input class="input-field" type="text" [(ngModel)]="searchTerm1" placeholder="Départ">
    </span>
    <div class="search-bar">
        <input class="input-field" pInputText class="p-inputtext-lg" type="text" [(ngModel)]="searchTerm2" placeholder="Destination">
    </div>
    <div class="search-bar">
      <p-calendar class="input-field" [(ngModel)]="date1" [showIcon]="true" inputId="buttondisplay"></p-calendar>
    </div>
    <button (click)="onSearch()">Rechercher</button>
  </div>
<div class="card" *ngIf="showTable">
  <p-table #dt [value]="annonces" [rows]="5" [showCurrentPageReport]="true"
           [rowsPerPageOptions]="[5, 10, 20]" [loading]="loading" [paginator]="true"
           currentPageReportTemplate="Affichage de {first} à {last} sur {totalRecords} annonces"
           [globalFilterFields]="['depart', 'destination', 'date', 'heureDepart', 'placesDisponibles']"
           [tableStyle]="{ 'min-width': '75rem' }">
      
      <ng-template pTemplate="header">
          <tr>
              <th style="width:12%">Départ</th>
              <th style="width:12%">Destination</th>
              <th style="width:12%">Date</th>
              <th style="width:12%">Heure</th>
              <th style="width:12%">Places disponibles</th>
              <th style="width:12%">Actions</th>

          </tr>
          
      </ng-template>
      <ng-template pTemplate="body" let-annonce>
          <tr>
              <td>
                  {{ annonce.depart }}
              </td>
              <td>
                  {{ annonce.destination }}
              </td>
              <td>
                {{ annonce.date | date:'dd/MM/yyyy' }}
              </td>
              <td>
                  {{ annonce.heureDepart }}
              </td>
              <td>
                  {{ annonce.placesDisponibles }}
              </td>
              <td>
                <button (click)="reserver(annonce)">Réserver</button>

              </td>
          </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
          <tr>
              <td colspan="5">Pas d'annonces trouvées.</td>
          </tr>
      </ng-template>
  </p-table>
</div>
